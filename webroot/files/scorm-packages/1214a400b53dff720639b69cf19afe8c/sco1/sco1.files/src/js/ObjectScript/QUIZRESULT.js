define("QUIZRESULT",["CScript","BitmapAsset","Rectangle","CQuiz_Manager","CQuizInfo","Shape"],function(b,f,c,e,g,d){function a(v,k,t,i,z,p,n,w,h,l,s,o,r,q,A,y,x,m,j,u){this.x1=v;this.y1=k;this.x2=t;this.y2=i;this.Color=z;this.Pattern=p||"";this.BkColor=n||16777215;this.Width=w==0?0:w||1;this.Style=h||0;this.Rops=l||0;this.nArrayType=s||0;this.xCount=o||4;this.yCount=r||3;this.FontMacro=q||"";this.nStartNo=A||1;this.nEndNo=y||-1;this.iInTime=x||-1;this.iOutTime=m||Number.MAX_VALUE;this.sCorrect=j;this.sInCorrect=u||"";this.textFormat=CTextFormatUtil.parseFontMacro(this.FontMacro,"center","center")}a.prototype=new b();a.prototype.Run=function(Q){Q=Q||false;this.iSyncObject=this.CheckSyncObject(Q,"QUIZRESULT","",this.iInTime,this.iOutTime);if(this.iScriptIndex>=0){this.iIndex=this.iScriptIndex}if(this.iSyncObject==-1){return}if(this.iSyncObject){var k=new c(this.x1-this.Width,this.y1-this.Width,this.x2-this.x1+1+this.Width*2,this.y2-this.y1+1+this.Width*2);main.AddBitmapSync(k,this.iIndex,"")}var p;var m;var E,K;p=m=Viewer.QuizTotalCount;if(m==0){m=12}E=K=parseInt(Math.sqrt(m));if(E*K<m){E+=(this.nArrayType==1);K+=(this.nArrayType==0);if(E*K<m){E+=(this.nArrayType==0);K+=(this.nArrayType==1)}}if(this.xCount==-1){this.xCount=E}if(this.yCount==-1){this.yCount=K}if(this.nEndNo==-1){this.nEndNo=m}var w,v,z,L,t,I,s,H,C;w=this.x1,v=this.y1;z=(this.nArrayType==0)?this.xCount*2:this.xCount;L=(this.nArrayType==0)?this.yCount:this.yCount*2;t=(this.x2-this.x1)/z;I=(this.y2-this.y1)/L;s=0,H=0,C=0;var j=CUIComponentFactory.CellBox(z,L,w,v,t,I,s,H,this.Color,this.Pattern,this.BkColor,this.Width,this.Style,this.Rops,C);main.Draw(j);var O,N;var P=main.quiz_Manager;var n;for(var J=0;J<m;J++){if(J>=this.xCount*this.yCount){break}if(J+(this.nStartNo-1)>=m){break}if(J+(this.nStartNo-1)>=this.nEndNo){break}var l,B,M,q;if(this.nArrayType==1){O=J%z;N=parseInt((J/z))%L*2}else{O=parseInt((J/L))%z*2;N=J%L}var l=w+(t+s)*O+(t/4);var B=v+(I+H)*N+(I/4);var M=l+t/2;var q=B+I/2;var o=Viewer.isIE?6:4;var G=new c(l,B,M-l,q-B+o);var F=new c(l,B,M-l,q-B+o);if(this.nArrayType==1){F.offset(0,I)}else{F.offset(t,0)}var D=(J+1+(this.nStartNo-1)).toString();if(J+(this.nStartNo-1)>=0&&J+(this.nStartNo-1)<p){n=P.FindQuiz_Info(J+(this.nStartNo-1)+1);if(n){if(n.GetQuizNumber()!=-1){D=n.GetQuizNumber().toString()}}}var u=new d(G.GetX(),G.GetY(),G.GetWidth(),G.GetHeight());CUIComponentFactory.Text(u,D,G,this.textFormat,null,false);main.Draw(u);var h="";if(main.LangID==0){this.sCorrect=this.sCorrect||"O";this.sInCorrect=this.sInCorrect||"X"}else{this.sCorrect=this.sCorrect||String.fromCharCode(10003);this.sInCorrect=this.sInCorrect||String.fromCharCode(10007)}if(J+(this.nStartNo-1)>=0&&J+(this.nStartNo-1)<p){n=P.FindQuiz_Info(J+(this.nStartNo-1)+1);if(n){h=n.GetPassed()==1?this.sCorrect:n.GetPassed()==0?this.sInCorrect:""}}var A=new d(F.GetX(),F.GetY(),F.GetWidth(),F.GetHeight());CUIComponentFactory.Text(A,h,F,this.textFormat,null,false);main.Draw(A)}};return a});