define("CEffectMacro",["CEffectAnimation"],function(a){function b(){}b.prototype={iEffectID:0,iDelayTime:0,bTransparent:false,bAnimation:false,aEffects:new Array(),IsAnimation:function(){return this.bAnimation},GetDelayTime:function(){if(this.iDelayTime<=1){return 500/1000}if(this.iDelayTime<=3){return 600/1000}if(this.iDelayTime<=5){return 700/1000}if(this.iDelayTime<=7){return 800/1000}return 1000/1000},parseEffectMacro:function(g){var e;for(var d=0;d<g.length;d++){var f=null;var c=g.charAt(d);switch(c){default:if(g.charAt(0)=="E"){f=new a();d+=f.Parsing(g.substr(d))}break}if(f!=null){this.iEffectID=f.GetID();this.iDelayTime=f.GetDelayTime();if(this.iEffectID!=-1){this.bAnimation=true}if(f.IsTransparent()){this.bTransparent=f.IsTransparent()}this.aEffects.push(f)}}},Apply:function(e){if(aEffects.length==0){return e}var f=e;for(var c=0;c<aEffects.length;++c){var d=aEffects[c];if(!d.IsTransparent()){f=d.Apply(f)}}return f},EffectCount:function(){return aEffects.length}};return b});