define("Shape",["Graphics"],function(a){function b(d,g,f,c,e){if(Viewer.isMac){f+=1;c+=1}this.divShape=document.createElement("div");this.divShape.className="item image shape";this.divShape.style.left=d+"px";this.divShape.style.top=g+"px";this.divShape.style.width=f+"px";this.divShape.style.height=c+"px";this.divCanvas=document.createElement("canvas");this.divCanvas.className="content";this.divCanvas.setAttribute("width",f);this.divCanvas.setAttribute("height",c);this.divCtx2d=this.divCanvas.getContext("2d");this.graphics=new a(this.divCtx2d);this.zIndex=document.getElementById("imageCanvas").querySelectorAll(".item.image").length||0;this.addStyle("zIndex",this.zIndex);if(!e){this.divLayer=document.createElement("div");this.divLayer.className="item unhideable layer";this.divShape.appendChild(this.divLayer)}this.divShape.appendChild(this.divCanvas)}b.prototype={divShape:null,divLayer:null,divCanvas:null,divCtx2d:null,graphics:null,setID:function(c){this.divShape.className=this.divShape.className+" "+c},addHyperLink:function(c,d){this.divShape.style.cursor="pointer";this.divShape.style.cursor="hand";if(d.length>0){this.divShape.title=d}this.divShape.setAttribute("onclick","window.open('"+c+"')")},addStyle:function(c,d){this.divShape.style[c]=d},addEvent:function(d,c){this.divShape.setAttribute(d,c)},addToolTip:function(c){this.divShape.title=c},setAttribute:function(c,d){this.addEvent(c,d)},setClass:function(c){this.setID(c)},setStyle:function(c,d){this.addStyle(c,d)}};return b});