define("CEffectAnimation",["CEffect"],function(b){function a(){this.EffectID=0;this.DelayTime=0;this.Grain=0;this.Transparent=-1}a.prototype=new b();a.prototype.GetID=function(){return this.EffectID};a.prototype.GetDelayTime=function(){return this.DelayTime};a.prototype.IsTransparent=function(){return(this.Transparent==-1)};a.prototype.Parsing=function(g){b.prototype.Parsing(g);var e=0;if(g.charAt(0)=="E"){var d;this.EffectID=parseInt(g.substring(e+1));e=g.indexOf(",",e+1);this.DelayTime=parseInt(g.substring(e+1));e=g.indexOf(",",e+1);this.Grain=parseInt(g.substring(e+1));e=g.indexOf(",",e+1);if(g.substring(e+1,e+1+3)=="RGB"){d=parseInt(g.substring(e+5));d=((d&16711680)>>16)|(d&65280)|((d&255)<<16)|(d&4278190080)}else{var f=g.substring(e+1);if(f.charAt(0)==","){d=-1}else{d=parseInt(f)}}this.Transparent=d;var c=e;e=g.indexOf(",",e+1);if(e==-1){e=g.indexOf(")",c+1);if(e==-1){e=c}}}return e};a.prototype.Apply=function(d){var e=d;if(Code=="E"&&Transparent!=-1){var c=new BitmapData(e.width,e.height,true,4294967295);c.threshold(e,new Rectangle(0,0,e.width,e.height),new Point(0,0),"==",Transparent,0,16777215,true);e=c}return e};return a});