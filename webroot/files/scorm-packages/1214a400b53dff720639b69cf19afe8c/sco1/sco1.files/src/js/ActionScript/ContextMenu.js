define("ContextMenu",function(){function a(){this.menu=document.createElement("div");this.menu.id=this.menuID;document.body.appendChild(this.menu);document.body.ContextMenu=this;document.body.onclick=function(){this.ContextMenu.Hide()};document.getElementById("imageCanvas").addEventListener("contextmenu",this.Show);this.menu.addEventListener("mouseover",this.onMouseOver);this.menu.addEventListener("mouseout",this.onMouseOut);this.menu.style.cursor="default";this.menu.style.position="absolute";this.menu.style.width="100px";this.menu.style.backgroundColor="menu";this.menu.style.lineHeight="1.4";this.menu.style.padding="4px";this.menu.style.border="2px outset buttonhighlight";this.menu.style.display="none";this.menu.style.zIndex="99999"}a.prototype={menu:null,menuID:"contextmenu",itemID:"menuitem",AppendMenu:function(c,d){var b=document.createElement("div");b.id=this.itemID;b.innerHTML=c;b.onclick=d;this.menu.appendChild(b);b.style.paddingLeft="15px";b.style.paddingRight="10px";b.style.fontSize="9pt";b.style.textDecoration="none"},Show:function(){if(event.target.localName=="embed"){return}var d=document.getElementById("contextmenu");var c=document.body.clientWidth-event.clientX;var b=document.body.clientHeight-event.clientY;if(c<d.offsetWidth){menuleft=document.body.scrollLeft+event.clientX-d.offsetWidth;d.style.left=menuleft+"px"}else{d.style.left=(document.body.scrollLeft+event.clientX)+"px"}if(b<d.offsetHeight){menutop=document.body.scrollTop+event.clientY-d.offsetHeight;d.style.top=menutop+"px"}else{d.style.top=(document.body.scrollTop+event.clientY)+"px"}d.style.display="block";return false},Hide:function(){document.getElementById("contextmenu").style.display="none"},onMouseOver:function(){if(event.srcElement.id=="menuitem"){event.srcElement.style.backgroundColor="highlight";event.srcElement.style.color="white";window.status=event.srcElement.url}},onMouseOut:function(){if(event.srcElement.id=="menuitem"){event.srcElement.style.backgroundColor="";event.srcElement.style.color="black";window.status=""}}};return a});