define("CURVE",["CScript","CTextFormatUtil","Rectangle"],function(b,a,c){function d(f,m,e,s,q,o,r,j,n,i,l,g,h,k,p){this.CurveType=f;this.Precision=m;this.Color=e;this.Width=s;this.Style=q||0;this.Rops=o||0;this.PointCount=k;this.points=Array.prototype.slice.call(arguments,14);this.diagramText=r||"";this.fontMacro=j||"";this.disappear=n||0;this.disappearGroupID=i||-1;this.sID=l||"";this.iInTime=g||-1;this.iOutTime=Number.MAX_VALUE;this.format=a.parseFontMacro(j,"center","center",24);this.iSyncObject=0;this.iIndex=0}d.prototype=new b();d.prototype.Run=function(g){g=g||false;this.iSyncObject=this.CheckSyncObject(g,"CURVE",this.sID,this.iInTime,this.iOutTime);if(this.iScriptIndex>=0){this.iIndex=this.iScriptIndex}if(this.iSyncObject==-1){return}var f=CUIComponentFactory.Curve(this.CurveType,this.Precision,this.Color,this.Width,this.Style,this.Rops,this.PointCount,this.points);main.Draw(f);if(this.sID){f.setID(this.sID)}if(this.diagramText.length>0){var h=new c(0,0,f.divCanvas.width,f.divCanvas.height);h.inflate(-8,0);main.Draw(CUIComponentFactory.Text(f,this.diagramText,h,this.format))}if(this.disappear==1){var e=main.GetFreeButtonNo(10000);main.AddBitmapCloseButton(f,this.sID,e,this.disappearGroupID);f.addStyle("cursor","pointer");f.addStyle("cursor","cursor");f.addEvent("onclick","main.RemoveBitmapClose(this, "+e+", "+this.disappearGroupID+")")}};return d});