define("CVideoManager",["CVideoInfo"],function(b){function a(){this.dictVideoInfo=new Array()}a.prototype={GetVideoInfo:function(d){for(var e in this.dictVideoInfo){var c=this.dictVideoInfo[e];if(c.iVideoID==d){return c}}return null},Exists:function(c){return(null!=this.GetVideoInfo(c))},FindVideoNo:function(d,c){if(c==undefined){c=true}for(var f in this.dictVideoInfo){var e=this.dictVideoInfo[f];if(e.GetVisible()||c){if(e.sVideoID==d){return e.iVideoID}}}return -1},GetVideoName:function(d){for(var e in this.dictVideoInfo){var c=this.dictVideoInfo[e];if(c.iVideoID==d){return c.sFile}}return""},FindFirstVideoNo:function(){for(var d in this.dictVideoInfo){var c=this.dictVideoInfo[d];if(c.GetVisible()){return c.iVideoID}}return -1},FindVideo:function(d){for(var e in this.dictVideoInfo){var c=this.dictVideoInfo[e];if(c.sFile==d){return c.iVideoID}}return -1},SlideStart:function(f){var d=false;for(var e in this.dictVideoInfo){var c=this.dictVideoInfo[e];if(c.SlideStart(f)==true){if(c.iVideoID==main.nVideoNoSyncObject){d=true}}}if(!d){main.nVideoNoSyncObject=-1}},Add:function(g,n,j,m,k,o,l,h,i,c,f,p,d){var e=this.GetVideoInfo(n);if(null!=e){CAssertUtil.Failed()}e=new b(g,n,j,m,k,o,l,h,i,c,f,0,0,0,p,d);this.dictVideoInfo.push(e)},Delete:function(d){for(var e in this.dictVideoInfo){var c=this.dictVideoInfo[e];if(c.iVideoID==d){this.dictVideoInfo.splice(e,1)}}},IsNewVideo:function(d){var c=this.GetVideoInfo(d);if(null==c){return true}return c.IsNewVideo()},Show:function(d,e){if(e==undefined){e=false}var c=this.GetVideoInfo(d);if(null==c){CAssertUtil.Failed();return}c.Show(e)},Hide:function(e,c){if(c==undefined){c=true}var d=this.GetVideoInfo(e);if(null==d){CAssertUtil.Failed();return}d.Hide(c)},Resume:function(d){var c=this.GetVideoInfo(d);if(null==c){CAssertUtil.Failed();return}c.Resume()},Play:function(d){var c=this.GetVideoInfo(d);if(null==c){CAssertUtil.Failed();return}c.Play()},Pause:function(d){var c=this.GetVideoInfo(d);if(null==c){CAssertUtil.Failed();return}c.Pause()},setVolume:function(e,c){var d=this.GetVideoInfo(e);if(null==d){CAssertUtil.Failed();return}d.setVolume(c)},GetVolume:function(d){var c=this.GetVideoInfo(d);if(null==c){CAssertUtil.Failed();return 0}return c.GetVolume()},Loop:function(e,c){var d=this.GetVideoInfo(e);if(null==d){CAssertUtil.Failed();return}d.Loop(c)},Stop:function(d){var c=this.GetVideoInfo(d);if(null==c){CAssertUtil.Failed();return}c.Stop()},Close:function(d){var c=this.GetVideoInfo(d);if(null==c){CAssertUtil.Failed();return}c.Hide();if(c.iVideoID==main.nVideoNoSyncObject){main.DeleteObjectSync();main.nVideoNoSyncObject=-1}},PlayHeadTime:function(e,c){var d=this.GetVideoInfo(e);if(d){d.PlayHeadTime(c)}},GetPlayHeadTime:function(d){var c=this.GetVideoInfo(d);if(c){return c.GetPlayHeadTime()}return 0},SetMute:function(e,d){var c=this.GetVideoInfo(e);if(c){c.SetMute(d)}},Synchronize:function(){var c=main.GetCurrentSlideName();for(var e in this.dictVideoInfo){var d=this.dictVideoInfo[e];if(d.IsSyncVideo()&&d.getSyncType()>=1){if(d.CanStay(c)){d.Synchronize(c)}}}},AutoPlay:function(e,c){var d=this.GetVideoInfo(e);if(null==d){CAssertUtil.Failed();return}d.AutoPlay(c)},AutoRewind:function(e,c){var d=this.GetVideoInfo(e);if(null==d){CAssertUtil.Failed();return}d.AutoRewind(c)},ResetWaitUntilFinish:function(d){var c=this.GetVideoInfo(d);if(null==c){return}c.ResetWaitUntilFinish()},GetTotalSyncSlideCount:function(){var c=0;for(var e in this.dictVideoInfo){var d=this.dictVideoInfo[e];if(d.GetVideoDisplay().playedTime>0){c+=(parseInt(d.arraySyncTime.length)+1)}}return c},GetMaxPlayTime:function(d){var c=this.GetVideoInfo(d);if(c){return c.GetVideoDisplay().playedTime}return 0},GetTotalMaxPlayTime:function(){var c=0;for(var e in this.dictVideoInfo){var d=this.dictVideoInfo[e];if(d.GetVideoDisplay().playedTime>0){c+=d.GetVideoDisplay().playedTime}}return c},GetTotalDurationTime:function(){var c=0;for(var e in this.dictVideoInfo){var d=this.dictVideoInfo[e];if(d.GetVideoDisplay().playedTime>0){c+=d.GetVideoDisplay().videoDisplay.duration}}return c},GetLastPlayTime:function(d){var c=this.GetVideoInfo(d);if(c){return c.GetVideoDisplay().currentTime}return 0},PauseAll:function(){for(var d in this.dictVideoInfo){var c=this.dictVideoInfo[d];if(c.GetVisible()){c.bPaused=c.GetVideoDisplay().videoDisplay.paused;c.Pause()}}},ResumeAll:function(){for(var d in this.dictVideoInfo){var c=this.dictVideoInfo[d];if(c.GetVisible()){if(Viewer.isAnApp||Viewer.isIOS){if(!c.bPaused){c.Resume()}}else{c.Resume()}}}},SetCantMoveForward:function(e,d){var c=this.GetVideoInfo(e);if(c){c.SetCantMoveForward(d)}},SetMaxPlayTime:function(e,c){var d=this.GetVideoInfo(e);if(d){d.SetMaxPlayTime(c)}},SetPlayRate:function(e,d){var c=this.GetVideoInfo(e);if(c){c.SetPlayRate(d)}},SetFullScreenClicked:function(e,d){var c=this.GetVideoInfo(e);if(c){c.SetFullScreenClicked(d)}},StopSyncTime:function(){for(var d in this.dictVideoInfo){var c=this.dictVideoInfo[d];if(c.GetVisible()){c.StopSyncTime()}}},SetSyncTime:function(){for(var d in this.dictVideoInfo){var c=this.dictVideoInfo[d];if(c.GetVisible()){c.SetSyncTime()}}},EnableControl:function(c){for(var e in this.dictVideoInfo){var d=this.dictVideoInfo[e];if(d.GetVisible()&&d.bControlBar){d.EnableControl(c)}}},GetVideo_Info:function(f,e){if(f==undefined){f=-1}e=e||0;if(f==-1){f=main.nLastVideoNo}switch(e){case 8:var d=this.GetMaxPlayTime(f);var c=this.GetLastPlayTime(f);return c>d?c:d;case 13:return this.GetLastPlayTime(f)}return 0}};return a});