define("CELLBOX",["CScript","CTextFormatUtil","Rectangle","CUIComponentFactory","BitmapAsset","CStopTypeAfterNSec","CEffectMacro","AnimationPackage"],function(d,i,h,e,g,c,f,b){function a(w,F,v,u,t,D,s,C,K,q,p,I,k,n,A,l,H,z,E,m,B,G,j,J,o){this.xn=w;this.yn=F;this.x=v;this.y=u;this.xs=t;this.ys=D;this.xt=s;this.yt=C;this.Color=K;this.Pattern=q||"";this.BkColor=p||16777215;this.Width=I==0?0:I||1;this.Style=k||0;this.Rops=n||0;this.r=A||0;this.sHyperLink=l||"";this.sHyperLinkToolTip=H||"";this.sEffectMacro=z||"";this.diagramText=E||"";this.fontMacro=m||"";this.disappear=B||0;this.disappearGroupID=G||-1;this.sID=j||"";this.iInTime=J||-1;this.iOutTime=o||Number.MAX_VALUE;this.format=i.parseFontMacro(m,"center","center",24);this.iSyncObject=0;this.iIndex=0;this.EM=new f();this.EM.parseEffectMacro(this.sEffectMacro)}a.prototype=new d();a.prototype.StopType=function(){if(this.EM.IsAnimation()){return new c(0)}return null};a.prototype.Run=function(m){m=m||false;this.iSyncObject=this.CheckSyncObject(m,"CELLBOX",this.sID,this.iInTime,this.iOutTime);if(this.iScriptIndex>=0){this.iIndex=this.iScriptIndex}if(this.iSyncObject==-1){return}var k;if(this.Style instanceof g){k=e.ImageBox(this.x,this.y,this.x+this.xs,this.y+this.ys,this.Width,this.Style)}else{k=e.CellBox(this.xn,this.yn,this.x,this.y,this.xs,this.ys,this.xt,this.yt,this.Color,this.Pattern,this.BkColor,this.Width,this.Style,this.Rops,this.r);main.Draw(k)}if(this.sID){k.setID(this.sID)}if(this.diagramText.length>0){var n=new h(parseInt(this.Width/2),parseInt(this.Width/2),this.xs,this.ys);n.inflate(-8,0);main.Draw(e.Text(k,this.diagramText,n,this.format))}if(this.disappear==1){var j=main.GetFreeButtonNo(10000);main.AddBitmapCloseButton(k,this.sID,j,this.disappearGroupID);k.addStyle("cursor","pointer");k.addStyle("cursor","cursor");k.addEvent("onclick","main.RemoveBitmapClose(this, "+j+", "+this.disappearGroupID+")")}if(this.sHyperLink.length>0){k.addHyperLink(this.sHyperLink,this.sHyperLinkToolTip)}if(this.sEffectMacro.length>0){if(this.EM.IsAnimation()){if(!this.sID){k.setID("E"+k.zIndex)}var l=new b(k.divShape);l.setmacro(this.sEffectMacro.split(","));l.setcontainer();l.start()}}};return a});