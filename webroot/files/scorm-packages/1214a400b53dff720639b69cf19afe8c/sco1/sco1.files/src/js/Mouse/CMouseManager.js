define("CMouseManager",["EMouseState","CMouseStateHolder","CButtonInfo","CArrayUtil"],function(b,e,a,c){function d(){this.arrayButtonInfo=[];this.state=b.Normal}d.prototype={arrayButtonInfo:null,state:null,GetArrayButtonInfo:function(){return this.arrayButtonInfo},SlideStart:function(){this.RemoveNoKeepAlive();this.RedrawAll();var f=e.GetMouseState(this.state);f.SlideStart()},StopSound:function(){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];g.StopSound()}},StopSoundButton:function(){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsSoundButton){g.StopSound()}}},StopSoundExcept:function(f){for(var g=0;g<this.arrayButtonInfo.length;g++){var h=this.arrayButtonInfo[g];if(h.ButtonNo()!=f){h.SetSoundPausePos(0);h.StopSound()}}},StopPreSoundIcon:function(f){for(var h=0;h<this.arrayButtonInfo.length;h++){var j=this.arrayButtonInfo[h];if(j.ButtonNo()==f||!j.IsIconPlay()){continue}var g=j.GetNormal();j.SetNormal(j.GetClick());j.SetClick(g);j.SetIconPlay(false);j.DrawButton(0)}},ToggleState:function(){this.arrayButtonInfo=[];this.state=b.NextState(this.state)},AddButton:function(F,D,A,w,E,z,i,u,x,n,C,s,m,t,k,o,y,v,p,B,h,f,l,j,q,r){var g=new a(F,D,A,w,E,z,i,u,x,n,C,s,m,t,k,o,y,v,p,B,h,f,l||0,j||"",q||0,r||"");this.arrayButtonInfo.push(g)},AddHyperLink:function(j,i,h,g){var f=this.GetFreeButtonNo(20000);var k;if(main.FindSlide(i)){k=6}else{k=11}this.AddButton(f,"",j,-1,-1,-1,2,i,k,h,"",null,0,null,-1,-1,-1,-1,-1,-1,-1,"")},OnMouseMove:function(g){var f=e.GetMouseState(this.state);f.OnMouseMove(g,this.arrayButtonInfo)},OnMouseDown:function(g){var f=e.GetMouseState(this.state);return f.OnMouseDown(g,this.arrayButtonInfo)},OnMouseUp:function(g){var f=e.GetMouseState(this.state);return f.OnMouseUp(g,this.arrayButtonInfo)},OnMouseClick:function(g){var f=e.GetMouseState(this.state);f.OnMouseClick(g,this.arrayButtonInfo)},RedrawAll:function(){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];g.RedrawOut()}},SetEnableAll:function(h){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];g.Enabled(h)}},SetEnableGeneral:function(h){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsGeneral()){g.Enabled(h)}}},SetEnableProgress:function(h){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsProgress()){g.Enabled(h)}}},SetEnableKeepAlive:function(h){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsKeepAlive()){g.Enabled(h)}}},SetEnableQuiz:function(j,f){for(var g=0;g<this.arrayButtonInfo.length;g++){var h=this.arrayButtonInfo[g];if(h.nQuizInfoIndex==f){h.Enabled(j)}}},SetEnable:function(f,h){var g=this.GetButtonInfo(f);if(null==g){return}g.Enabled(h)},FindButtonNo:function(f){for(var g=0;g<this.arrayButtonInfo.length;g++){var h=this.arrayButtonInfo[g];if(h.sID==f){return h.ButtonNo()}}return -1},GetFreeButtonNo:function(f){while(1){if(this.GetButtonInfo(f)==null){break}f++}return f},GetButtonInfo:function(f){for(var g=this.arrayButtonInfo.length-1;g>=0;g--){var h=this.arrayButtonInfo[g];if(h.EqualsButtonNo(f)){return h}}return null},GetButtonCount:function(){return this.arrayButtonInfo.length},GetButtonInfobyIndex:function(g){var f=this.arrayButtonInfo[g];return f},RemoveAll:function(){this.arrayButtonInfo=[]},RemoveGeneral:function(){var h=[];for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsGeneral()){h.push(g)}}c.RemoveMany(this.arrayButtonInfo,h)},RemoveProgress:function(){var h=[];for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsProgress()){h.push(g)}}c.RemoveMany(this.arrayButtonInfo,h)},RemoveKeepAlive:function(){var h=[];for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsKeepAlive()){h.push(g)}}c.RemoveMany(this.arrayButtonInfo,h)},RemoveNoKeepAlive:function(){var f=main.GetCurrentSlideNo();var j=[];for(var g=0;g<this.arrayButtonInfo.length;g++){var h=this.arrayButtonInfo[g];if(!h.IsKeepAlive()||f<=h.SlideNo){j.push(h)}}c.RemoveMany(this.arrayButtonInfo,j)},Remove:function(f){var k=[];for(var g=0;g<this.arrayButtonInfo.length;g++){var j=this.arrayButtonInfo[g];if(j.EqualsButtonNo(f)){var h=e.GetMouseState(this.state);h.SlideStart();k.push(j)}}c.RemoveMany(this.arrayButtonInfo,k)},ClearAll:function(){for(var f=0;f<this.arrayButtonInfo.length;f++){var h=this.arrayButtonInfo[f];if(h.shape&&h.shape.divShape){main.Clear(h.shape)}}var g=document.getElementsByClassName("item image portion");if(g){for(var f=0;f<g.length;f++){main.Clear(g[f])}}},ClearGeneral:function(){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsGeneral()){if(g.shape&&g.shape.divShape){main.Clear(g.shape)}}}},ClearProgress:function(){for(var f=0;f<this.arrayButtonInfo.length;f++){var h=this.arrayButtonInfo[f];if(h.IsProgress()){if(h.shape&&h.shape.divShape){main.Clear(h.shape)}}}var g=document.getElementsByClassName("item image portion");if(g){for(var f=0;f<g.length;f++){main.Clear(g[f])}}},ClearKeepAlive:function(){for(var f=0;f<this.arrayButtonInfo.length;f++){var g=this.arrayButtonInfo[f];if(g.IsKeepAlive()){if(g.shape&&g.shape.divShape){main.Clear(g.shape)}}}},ClearNoKeepAlive:function(){var f=main.GetCurrentSlideNo();for(var g=0;g<this.arrayButtonInfo.length;g++){var h=this.arrayButtonInfo[g];if(!h.IsKeepAlive()||f<=h.SlideNo){if(h.shape&&h.shape.divShape){main.Clear(h.shape)}}}},Clear:function(f){for(var g=0;g<this.arrayButtonInfo.length;g++){var h=this.arrayButtonInfo[g];if(h.EqualsButtonNo(f)){if(h.shape&&h.shape.divShape){main.Clear(h.shape)}}}}};return d});