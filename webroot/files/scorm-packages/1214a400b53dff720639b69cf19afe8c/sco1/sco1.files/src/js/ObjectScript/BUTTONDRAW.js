define("BUTTONDRAW",["CScript","CTextFormatUtil","Rectangle","CUIComponentFactory","CStopTypeAfterNSec","CEffectMacro","AnimationPackage"],function(d,c,f,b,a,h,g){function e(t,r,i,w,m,u,n,s,z,v,o,q,l,p,j,k){this.x=t;this.y=r;this.xs=i;this.ys=w;this.ButtonType=m||0;this.ButtonState=u||0;this.sHyperLink=n||"";this.sHyperLinkToolTip=s||"";this.sEffectMacro=z||"";this.diagramText=v||"";this.fontMacro=o||"";this.disappear=q||0;this.disappearGroupID=l||-1;this.sID=p||"";this.iInTime=j||-1;this.iOutTime=k||Number.MAX_VALUE;this.format=c.parseFontMacro(o,"center","center",24);this.iSyncObject=0;this.iIndex=0;this.EM=new h();this.EM.parseEffectMacro(this.sEffectMacro)}e.prototype=new d();e.prototype.StopType=function(){if(this.EM.IsAnimation()){return new a(0)}return null};e.prototype.Run=function(l){l=l||false;this.iSyncObject=this.CheckSyncObject(l,"BUTTONDRAW",this.sID,this.iInTime,this.iOutTime);if(this.iScriptIndex>=0){this.iIndex=this.iScriptIndex}if(this.iSyncObject==-1){return}var j=b.ButtonDraw(this.x,this.y,this.xs,this.ys,this.ButtonType,this.ButtonState);main.Draw(j);if(this.sID){j.setID(this.sID)}if(this.diagramText.length>0){var m=new f(parseInt(this.Width/2),parseInt(this.Width/2),this.xs,this.ys);m.inflate(-8,0);main.Draw(b.Text(j,this.diagramText,m,this.format))}if(this.disappear==1){var i=main.GetFreeButtonNo(10000);main.AddBitmapCloseButton(j,this.sID,i,this.disappearGroupID);j.addStyle("cursor","pointer");j.addStyle("cursor","cursor");j.addEvent("onclick","main.RemoveBitmapClose(this, "+i+", "+this.disappearGroupID+")")}if(this.sHyperLink.length>0){j.addHyperLink(this.sHyperLink,this.sHyperLinkToolTip)}if(this.sEffectMacro.length>0){if(this.EM.IsAnimation()){if(!this.sID){j.setID("E"+j.zIndex)}var k=new g(j.divShape);k.setmacro(this.sEffectMacro.split(","));k.setcontainer();k.start()}}};return e});