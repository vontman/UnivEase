define("BUTTONSET",["CScript","CTextFormatUtil","Rectangle","CEffectMacro","AnimationPackage","CStopTypeAfterNSec"],function(c,b,d,g,f,a){function e(h,L,o,i,r,q,A,z,F,G,M,J,k,B,u,E,H,l,K,j,D,w,s,t,I,n,p,m,v,C){this.sID=h;this.sButtonName=L;this.sKeyName=o;this.nHotKey=i;this.x=r;this.y=q;this.width=A;this.height=z;this.nShapeNo=F||-1;this.Normal=(G==0)?0:G||-1;this.Over=(M==0)?0:M||-1;this.Click=(J==0)?0:J||-1;this.nButtonType=k||0;this.nCursorType=B||4;this.sAuxSub=u||"";this.sSub=E||"";this.nActionType=H||6;this.sTooltip=l||"";this.sFontMacro=K||"";this.nDisableNo=j||-1;this.soundAsset=D||null;this.nTransparentColor=w||-1;this.nKeepAlive=s||0;this.sEffectMacro=t||"";this.iInTime=I||-1;this.iOutTime=n||Number.MAX_VALUE;this.nOverAction=p||0;this.sOverSub=m||"";this.nOutAction=v||0;this.sOutSub=C||"";this.iSyncObject=0;this.iIndex=0;this.EM=new g();this.EM.parseEffectMacro(this.sEffectMacro);if(this.nTransparentColor!=-1){}}e.prototype=new c();e.prototype.StopType=function(){if(this.EM.IsAnimation()){return new a(0)}return null};e.prototype.Run=function(m){m=m||false;var i=this.sID==null?"":this.sID.toString();if(typeof this.sID=="string"){this.nButtonNo=main.FindButtonNo(i)}else{this.nButtonNo=Number(this.sID)}this.iSyncObject=this.CheckSyncObject(m,"BUTTONSET",i,this.iInTime,this.iOutTime);if(this.iScriptIndex>=0){this.iIndex=this.iScriptIndex}if(this.iSyncObject==-1){return}var h;if(this.nButtonNo==-1){h=main.GetFreeButtonNo(10000)}else{h=this.nButtonNo}var k=new d(this.x,this.y,this.width,this.height);var n=b.parseFontMacro(this.sFontMacro,"center","center");var j=new d(this.x,this.y,this.width+1,this.height+1);main.AddButton(h,this.sButtonName,k,this.NormalAssetTransparent?this.NormalAssetTransparent:this.Normal,this.OverAssetTransparent?this.OverAssetTransparent:this.Over,this.ClickAssetTransparent?this.ClickAssetTransparent:this.Click,this.nButtonType,this.sSub,this.nActionType,this.sTooltip,this.sFontMacro,this.soundAsset,this.nKeepAlive,n,-1,-1,-1,-1,-1,-1,-1,i,this.nOverAction,this.sOverSub,this.nOutAction,this.sOutSub);var l=main.GetButtonInfo(h);l.DrawOut();l.SlideNo=main.GetCurrentSlideNo();if(this.sEffectMacro.length>0){if(this.EM.IsAnimation()){if(!this.sID||this.sID<0){l.shape.setID("E"+l.shape.zIndex)}aniPack=new f(l.shape.divShape);aniPack.setmacro(this.sEffectMacro.split(","));aniPack.setcontainer();aniPack.start()}}};return e});